@using AllisonOwenWedding.Models
<Dialog @ref="ErrorDialog" Title="Whoops!" ShowOkayButton="true">
    <p>Oh shoot, we failed to submit your RSVP! Please try again. If you continue to have problems, let Owen or Allison know your response manually.</p>
</Dialog>
<EditForm class="rsvp-form" Model="InviteeUpdate" OnValidSubmit="UpdateInviteeAsync">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <label for="accepted">Able to attend?</label>
    <InputSelect id="accepted" class="form-element" @bind-Value="InviteeUpdate.RsvpResponse">
        <option value="@AcceptedResponse.Default" selected hidden>Choose response</option>
        <option value="@AcceptedResponse.Accept">Accept</option>
        <option value="@AcceptedResponse.Reject">Decline</option>
    </InputSelect>
    @if (InviteeUpdate.GuestsExpected > 0)
    {
        <label for="guests">Additional Guests</label>
        <InputSelect id="guests" class="form-element" disabled="@IsGuestInputDisabled" @bind-Value="InviteeUpdate.GuestsComing">
            @for(int i = 0; i <= InviteeUpdate.GuestsExpected; i++)
            {
                <option value="@i">+@i</option>
            }
        </InputSelect>
    }
    <input class="form-element button-input submit-input" type="submit" disabled="@IsSubmitButtonDisabled" value="Submit" />
    <input class="form-element button-input" type="reset" @onclick="async () => await ResetForm.InvokeAsync()" value="Cancel" />
</EditForm>